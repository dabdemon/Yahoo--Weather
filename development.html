Skip to content
This repository  
Explore
Gist
Blog
Help
@dabdemon dabdemon
 
 Unwatch 4
  Unstar 4
 Fork 5dabdemon/Yahoo--Weather
 branch: gh-pages Yahoo--Weather/settings.html
@dabdemondabdemon 2 days ago Disable the YWeather alerts by default
1 contributor
RawBlameHistory     917 lines (809 sloc)  42.107 kb
<!DOCTYPE html>
<html>
	<head>
		<meta name='viewport' content='width=device-width, initial-scale=1'>
		<!--load the Bootstrap "Superhero" theme-->
		<link rel="stylesheet" href="https://bootswatch.com/superhero/bootstrap.min.css">
		<!--load JQuery and Bootstrap JavaScript -->
		<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    	<script src="https://bootswatch.com/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    	<!--><script src="http://maps.googleapis.com/maps/api/js"></script><-->

		<title>YWeather Settings</title>
	</head>
	<body>

		<!--Create the Jumbotron with the Instructions -->
		<div class="container">
			<div class ="jumbotron">
				<h3 class="text-warning"><b>YWeather Settings</b></h3>
				<h4>Please, select your settings and click on Submit</h4>
				<div class="alert alert-warning alert-dismissable">
					<button type="button" class="close" data-dismiss="alert" aria-hidden="true">x</button>
					<h3>PLEASE READ</h3>
					<div>Invert Colors has been removed in purpose in v3.0. I'm working to get it back in v3.1. Please be patient! Sorry for the inconveniences.</div>
				</div>
			</div>
		</div>


		<!-- Create the two tabs to group the different subset of settings -->
		<div class="container">
			<!-- Tabs -->
			<ul class="nav nav-tabs" role="tablist">
		 		<li class="active"><a href="#common-tab" role="tab" data-toggle="tab">Common Settings</a></li>
				<li><a href="#extras-tab" role="tab" data-toggle="tab">Extra Features</a></li>
			</ul>
		 
			<!-- Tab Content -->
		 	<div class="tab-content">
				<div class="active tab-pane fade in" id="common-tab">


					<div class="panel-group" id="accordion-common">
					   <div class="panel panel-default">
					     <div class="panel-heading">
					       <h4 class="panel-title">
					         <a data-toggle="collapse" data-parent="#accordion-common" href="#accordion-miscellaneous">
					           Miscellaneous
					         </a>
					       </h4>
					     </div>
					     <div id="accordion-miscellaneous" class="panel-collapse collapse in">
					       <div class="panel-body">
					         <div class="container">
								<form class="form-horizontal">

									<!-- Select the language to display the weekday and date -->
					  				<div class="form-group">
					    				<label for="language" class="control-label col-md-3">Language</label>
					    				<div class="col-sm-6">
					       					<select type="text" name="language" id="language" class="form-control" />
					       						<option value="11">Catalan</option>
					                            <option value="99">Chinese</option>
					                            <option value="3">Czech</option>
					                            <option value="10">Danish</option>
					                            <option value="7">Dutch</option>
					                            <option value="100">English (U.S.)</option>
					                            <option value="97">English (Non-U.S.)</option>
					                            <option value="6">Finnish</option>
					                            <option value="4">French</option>
					                            <option value="2">German</option>
					                            <option value="12">Hungarian</option>
					                            <option value="1">Italian</option>
					                            <option value="98">Japanese</option>
					                            <option value="13">Norwegian</option>
					                            <option value="8">Polish</option>
					                            <option value="5">Portuguese</option>
					                            <option value="16">Romanian</option>
					                            <option value="15">Slovak</option>
					                            <option value="0">Spanish</option>
					                            <option value="9">Swedish</option>
					                            <option value="14">Turkish</option>
					                        </select>
					    				</div>
					    			</div>

					    			<!-- Select the units in which the weather and wind speed will be expressed. Metric = ºC and Km/h; Imperial = ºF and mi/h -->
									<div class="form-group">
						    			<label for="units" class="control-label col-md-3">Units</label>
						    			<div class="col-sm-6">
						    				<div class="btn-group" data-toggle="buttons">
										      <label class="btn btn-primary">
										         <input type="radio" id="celsius" value ="celsius" name="units" />
										        Metric
										      </label>
										      <label class="btn btn-primary">
										        <input type="radio" id="farenheith" value="fahrenheit" name="units" />
										        Imperial
										      </label>
										    </div>
						    			</div>
					  				</div>	
	

					  				<!-- Select when the battery icon will be displayed on the UI -->
									<div class="form-group">
						    			<label for="hide_bat" class="control-label col-md-3">Display Battery Level</label>
						    			<div class="col-sm-6">
						    				<div class="btn-group" data-toggle="buttons">
										      <label class="btn btn-primary">
										         <input type="radio" id="false" value="false" name="hide_bat" />
										        When running low
										      </label>
										      <label class="btn btn-primary">
										        <input type="radio" id="true" value="true" name="hide_bat" />
										        Always
										      </label>
										    </div>
						    			</div>
					  				</div>	

					  				<!-- Select when the battery icon will be displayed on the UI -->
									<div class="form-group">
						    			<label for="seconds" class="control-label col-md-3">Display Seconds</label>
						    			<div class="col-sm-6">
						    				<div class="btn-group" data-toggle="buttons">
										      <label class="btn btn-primary">
										         <input type="radio" id="false" value="false" name="seconds" />
										        No
										      </label>
										      <label class="btn btn-primary">
										        <input type="radio" id="true" value="true" name="seconds" />
										        Yes
										      </label>
										    </div>
						    			</div>
					  				</div>	

								</form>
							</div>
					       </div>
					     </div>
					   </div>
					   <div class="panel panel-default">
					     <div class="panel-heading">
					       <h4 class="panel-title">
					         <a data-toggle="collapse" data-parent="#accordion-common" href="#accordion-weather">
					           Weather
					         </a>
					       </h4>
					     </div>

					   <div id="accordion-weather" class="panel-collapse collapse">
					     <div class="panel-body">
					       	<div class="container">
								<form class="form-horizontal">

									<!-- Choose if use GPS or not-->
					  				<div class="form-group">
						    			<label for="use_gps" class="control-label col-md-3">Location Method</label>
						    			<div class="col-sm-6">
						    				<div class="btn-group" data-toggle="buttons">
										      <label class="btn btn-primary">
										         <input type="radio" id="false" value="false" name="use_gps" />
										        Manual Input
										      </label>
										      <label class="btn btn-primary">
										        <input type="radio" id="true" value="true" name="use_gps" />
										        Use GPS
										      </label>
										    </div>
						    			</div>
					  				</div>	

					  				<!-- If manual location is selected, enter the city name -->
					  				<div class="form-group">
					  					<label for="location" class="control-label col-md-3">Location</label>
					  					<div class="col-sm-6">
								     		<input type="text" class="col-md-6" id="location" name="location" Placeholder="e.j. 'Chicago'">
								     	</div>
								  </div>

					  			</form>
					  		</div>
					     </div>
					   </div>

					   </div>

					   <div class="panel panel-default">
					     <div class="panel-heading">
					       <h4 class="panel-title">
					         <a data-toggle="collapse" data-parent="#accordion-common" href="#accordion-alerts">
					           Alerts
					         </a>
					       </h4>
					     </div>

					  	<div id="accordion-alerts" class="panel-collapse collapse">
					     	<div class="panel-body">
					       		<div class="container">
					       			<form class="form-horizontal">

										<!-- Vibes on disconnection -->
						  				<div class="form-group">
							    			<label for="vibes" class="control-label col-md-3">Vibes on disconnection</label>
							    			<div class="col-sm-6">
							    				<div class="btn-group" data-toggle="buttons">
											      <label class="btn btn-primary">
											      <input type="radio" id="0" value="0" name="vibes" />
											        Do not vibe
											      </label>
											      <label class="btn btn-primary">
											      <input type="radio" id="1" value="1" name="vibes" />
											        Vibes once
											      </label>
											      <label class="btn btn-primary">
											      <input type="radio" id="2" value="2" name="vibes" />
											        Vibes until reconnect
											      </label>
											    </div>
							    			</div>
						  				</div>	

						  				<!-- Hourly Vibe-->
						  				<div class="form-group">
							    			<label for="hourly_vibe" class="control-label col-md-3">Hourly Vibe</label>
							    			<div class="col-sm-6">
							    				<div class="btn-group" data-toggle="buttons">
											      <label class="btn btn-primary">
											         <input type="radio" id="false" value="false" name="hourly_vibe" />
											        No
											      </label>
											      <label class="btn btn-primary">
											        <input type="radio" id="true" value="true" name="hourly_vibe" />
											        Yes
											      </label>
											    </div>
							    			</div>
					  					</div>	

					  					<!-- YWeather Alerts-->
						  				<div class="form-group">
							    			<label for="alerts" class="control-label col-md-3">Display YWeather Alerts</label>
							    			<div class="col-sm-6">
							    				<div class="btn-group" data-toggle="buttons">
											      <label class="btn btn-primary">
											         <input type="radio" id="false" value="false" name="alerts" />
											        No
											      </label>
											      <label class="btn btn-primary">
											        <input type="radio" id="true" value="true" name="alerts" />
											        Yes
											      </label>
											    </div>
							    			</div>
					  					</div>	

						  			</form>
					       		</div>
					     	</div>
					 	</div>			
					</div>
				</div>
				</div>

				<div class="tab-pane fade" id="extras-tab">

					<!-- Add an alert to ensure no BB nor WP users make a payment (which I'd need to refund... and that sucks) -->


						<div class="alert alert-warning alert-dismissable">
							<button type="button" class="close" data-dismiss="alert" aria-hidden="true">x</button>
						    <h3>WARNING</h3>
						    <div>Only Android and iOS devices are supported at this time. Extra features may not work on any BlackBerry nor Windows Phone device until Pebble gives official support.</div>
						</div>


		 			
					<div class="panel-group" id="accordion-extras">
					   	<div class="panel panel-default">
					     	<div class="panel-heading">
					       		<h4 class="panel-title">
					         		<a data-toggle="collapse" data-parent="#accordion-extras" href="#accordion-account">
					           		Account
					         		</a>
					       		</h4>
					     	</div>
					    
					    	<div id="accordion-account" class="panel-collapse collapse in">
					    
					    		<div class="panel-body">

					    			<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
					                        <input type="hidden" name="cmd" value="_xclick">
					                        <input type="hidden" name="business" value="yweather.pebble@gmail.com">
					                        <input type="hidden" name="lc" value="US">
					                        <input type="hidden" name="item_name" value="YWeather">
					                        <input type="hidden" name="button_subtype" value="services">
					                        <input type="hidden" name="no_note" value="0">
					                        <input type="hidden" name="currency_code" value="EUR">
					                        <input type="hidden" name="tax_rate" value="0.000">
					                        <input type="hidden" name="shipping" value="0.00">
					                        <input type="hidden" name="bn" value="PP-BuyNowBF:btn_paynowCC_LG.gif:NonHostedGuest">
					                        <input type="hidden" name="on0" value="USER ID">
					                        <input type="hidden" name="os0" id="os0">

					                        <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_paynowCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
					                        <img alt="" border="0" src="https://www.paypalobjects.com/es_ES/i/scr/pixel.gif" width="1" height="1">
					                </form>
					         	

									<form class="form-horizontal">

						  				<!-- User ID: getAccountToken() from the Pebble application-->
						  				<div class="form-group">
						  					<label for="UUID" class="control-label col-sm-3">User ID</label>
						  					<div class="col-sm-9">
									     		<input type="text" class="col-sm-9" id="UUID" name="UUID">
									     	</div>
								  		</div>

								  		<!-- User Key: generated based on the User ID (unique)-->
						  				<div class="form-group">
						  					<label for="key" class="control-label col-sm-3">User Key</label>
						  					<div class="col-sm-9">
									     		<input type="text" class="col-sm-9" id="key" name="key" value=" ">
									     	</div>
								  		</div>

								  		<!-- License Type: generated based on the User key-->
						  				<div class="form-group">
						  					<label for="lt" class="control-label col-sm-3">License Type</label>
						  					<div class="col-sm-3">
									     		<input type="text" class="col-sm-3" id="lt" name="lt">
									     	</div>
								  		</div>

								  		<div class="alert alert-success alert-dismissable">
											<button type="button" class="close" data-dismiss="alert" aria-hidden="true">x</button>
										    <h3>Choose the right License Type</h3>
										    <div>Back the project with 1 euro to get a LT1 key. <br>
										    	 Back the project with 3 euros to get a LT2 key.<br>
										    	 Back the project with 5 euros or more to get a LT3 key.<br>
										    	 <br>License types are cumulative. LT3 includes LT2 and LT1 features.
										    </div>
										</div>


						  			</form>



					    		</div>
					    	</div>
					   	</div>
					   
					   	<div class="panel panel-default">
					     	<div class="panel-heading">
					       		<h4 class="panel-title">
					         		<a data-toggle="collapse" data-parent="#accordion-extras" href="#accordion-misc">
					           		Miscellaneous
					         		</a>
					       		</h4>
					     	</div>
					   	<div id="accordion-misc" class="panel-collapse collapse">
					     
						   	<div class="panel-body">

						       
						       	<form class="form-horizontal">

					  				<!-- Forecast Screen Duration-->
									<div class="form-group">
									    <label for="ESDuration" class="control-label col-md-3">Forecast Screen Duration</label>
									    <div class="col-md-6">
									       <div class="input-group">
									        <div class="input-group-addon">
									          <span class="text-warning">LT1</span>
									        </div>
					       					<select type="text" name="ESDuration" id="ESDuration" class="form-control" />
					                            <option value="0">Off - No forecast</option>
					                            <option value="5">5 seconds</option>
					                            <option value="8">8 seconds</option>
					                            <option value="10">10 seconds</option>
					                            <option value="15">15 seconds</option>
					                        </select>
									       </div>
									    </div>
									</div>


					  				<!-- Extend Backligth-->
									<div class="form-group">
									    <label for="backlight" class="control-label col-md-3">Extend Backlight</label>
									    <div class="col-md-6">
									       <div class="input-group">
									        <div class="input-group-addon">
									          <span class="text-warning">LT1</span>
									        </div>
												<div class="btn-group" data-toggle="buttons">
											      <label class="btn btn-primary">
											         <input type="radio" id="false" value="false" name="backlight" />
											        No
											      </label>
											      <label class="btn btn-primary">
											        <input type="radio" id="true" value="true" name="backlight" />
											        Yes
											      </label>
											    </div>
									       </div>
									    </div>
									</div>


					  				<!-- Hourly Vibe quiet Hours-->
									<div class="form-group">
									    <label for="donotdisturb" class="control-label col-md-3">Hourly Vibe quiet Hours</label>
									    <div class="col-md-9">
										    <div>
										       <div class="input-group">
										        <div class="input-group-addon">
										          <span class="text-warning">LT1</span>
										        </div>
										        <label for="start">Start</label>
						       					<select type="text" name="start" id="start" class="form-control" />
				                                    <option value="0">0:00 (12:00am)</option>
				                                    <option value="1">1:00 (1:00am)</option>
				                                    <option value="2">2:00 (2:00am)</option>
				                                    <option value="3">3:00 (3:00am)</option>
				                                    <option value="4">4:00 (4:00am)</option>
				                                    <option value="5">5:00 (5:00am)</option>
				                                    <option value="6">6:00 (6:00am)</option>
				                                    <option value="7">7:00 (7:00am)</option>
				                                    <option value="8">8:00 (8:00am)</option>
				                                    <option value="9">9:00 (9:00am)</option>
				                                    <option value="10">10:00 (10:00am)</option>
				                                    <option value="11">11:00 (11:00am)</option>
				                                    <option value="12">12:00 (12:00pm)</option>
				                                    <option value="12">13:00 (1:00pm)</option>
				                                    <option value="14">14:00 (2:00pm)</option>
				                                    <option value="15">15:00 (3:00pm)</option>
				                                    <option value="16">16:00 (4:00pm)</option>
				                                    <option value="17">17:00 (5:00pm)</option>
				                                    <option value="18">18:00 (6:00pm)</option>
				                                    <option value="19">19:00 (7:00pm)</option>
				                                    <option value="20">20:00 (8:00pm)</option>
				                                    <option value="21">21:00 (9:00pm)</option>
				                                    <option value="22">22:00 (10:00pm)</option>
				                                    <option value="23">23:00 (11:00pm)</option>
						                        </select>
										       </div>
										    </div>
										    <div>
										       <div class="input-group">
										        <div class="input-group-addon">
										          <span class="text-warning">LT1</span>
										        </div>
										        <label for="end">End</label>
						       					<select type="text" name="end" id="end" class="form-control" />
				                                    <option value="0">0:00 (12:00am)</option>
				                                    <option value="1">1:00 (1:00am)</option>
				                                    <option value="2">2:00 (2:00am)</option>
				                                    <option value="3">3:00 (3:00am)</option>
				                                    <option value="4">4:00 (4:00am)</option>
				                                    <option value="5">5:00 (5:00am)</option>
				                                    <option value="6">6:00 (6:00am)</option>
				                                    <option value="7">7:00 (7:00am)</option>
				                                    <option value="8">8:00 (8:00am)</option>
				                                    <option value="9">9:00 (9:00am)</option>
				                                    <option value="10">10:00 (10:00am)</option>
				                                    <option value="11">11:00 (11:00am)</option>
				                                    <option value="12">12:00 (12:00pm)</option>
				                                    <option value="12">13:00 (1:00pm)</option>
				                                    <option value="14">14:00 (2:00pm)</option>
				                                    <option value="15">15:00 (3:00pm)</option>
				                                    <option value="16">16:00 (4:00pm)</option>
				                                    <option value="17">17:00 (5:00pm)</option>
				                                    <option value="18">18:00 (6:00pm)</option>
				                                    <option value="19">19:00 (7:00pm)</option>
				                                    <option value="20">20:00 (8:00pm)</option>
				                                    <option value="21">21:00 (9:00pm)</option>
				                                    <option value="22">22:00 (10:00pm)</option>
				                                    <option value="23">23:00 (11:00pm)</option>
						                        </select>
										       </div>
										    </div>
										</div>
									</div>

						  		</form>

						       

						     </div>
						   </div>
						</div>

						<div class="panel panel-default">
					     	<div class="panel-heading">
					       		<h4 class="panel-title">
					         		<a data-toggle="collapse" data-parent="#accordion-extras" href="#accordion-extras-weather">
					           		Weather
					         		</a>
					       		</h4>
					     	</div>
					   	<div id="accordion-extras-weather" class="panel-collapse collapse">
					     
						   	<div class="panel-body">

						       
						       	<form class="form-horizontal">

						       		<!-- Display Feels Like -->
									<div class="form-group">
									    <label for="feelslike" class="control-label col-md-3">Displayed Temperature</label>
									    <div class="col-md-6">
									       <div class="input-group">
									        <div class="input-group-addon">
									          <span class="text-warning">LT1</span>
									        </div>
												<div class="btn-group" data-toggle="buttons">
											      <label class="btn btn-primary">
											         <input type="radio" id="false" value="false" name="feelslike" />
											        Real Temperature
											      </label>
											      <label class="btn btn-primary">
											        <input type="radio" id="true" value="true" name="feelslike" />
											        Feels Like 
											      </label>
											    </div>
									       </div>
									    </div>
									</div>

					  				<!-- Wind Speed units-->
									<div class="form-group">
									    <label for="wspeed" class="control-label col-md-3">Wind Speed Units</label>
									    <div class="col-md-6">
									       <div class="input-group">
									        <div class="input-group-addon">
									          <span class="text-warning">LT1</span>
									        </div>
					       					<select type="text" name="wspeed" id="wspeed" class="form-control" />
												<option value="0">km/h - mi/h</option>
					                            <option value="1">m/s</option>
					                            <option value="2">knots</option>
					                            <option value="3">beaufort</option>
					                        </select>
									       </div>
									    </div>
									</div>


					  				<!-- Weather Accuracy -->
									<div class="form-group">
									    <label for="accuracy" class="control-label col-md-3">Accuracy</label>
									    <div class="col-md-6">
									       <div class="input-group">
									        <div class="input-group-addon">
									          <span class="text-success">LT2</span>
									        </div>
					       					<select type="text" name="accuracy" id="accuracy" class="form-control" />
					                            <option value="16">Neighborhood</option>
					                            <option value="11">City</option>
					                            <option value="6">Region</option>
					                        </select>
									       </div>
									    </div>
									</div>


									<!-- Weather refresh frequency -->
									<div class="form-group">
									    <label for="timer" class="control-label col-md-3">Refresh Frequency</label>
									    <div class="col-md-6">
									       <div class="input-group">
									        <div class="input-group-addon">
									          <span class="text-success">LT2</span>
									        </div>
					       					<select type="text" name="timer" id="timer" class="form-control" />
					                            <option value="5">5 minutes</option>
					                            <option value="15">15 minutes</option>
					                            <option value="30">30 minutes</option>
					                            <option value="45">45 minutes</option>
					                            <option value="60">60 minutes</option>
					                        </select>
									       </div>
									    </div>
									</div>

									<!-- Enable 3 day forecast-->

									<!--
									<div class="form-group">
									    <label for="forecast" class="control-label col-md-3">3 Day Forecast</label>
									    <div class="col-md-6">
									       <div class="input-group">
									        <div class="input-group-addon">
									          <span class="text-info">LT3</span>
									        </div>
												<div class="btn-group" data-toggle="buttons">
											      <label class="btn btn-primary">
											         <input type="radio" id="forecast" value="false" name="forecast"/>
											        No
											      </label>
											      <label class="btn btn-primary">
											        <input type="radio" id="forecast" value="true" name="forecast"/>
											        Yes
											      </label>
											    </div>
									       </div>
									    </div>
									</div>
								-->
								
								
									<div class="form-group">
									    <label for="timer" class="control-label col-md-3">3 day forecast</label>
									    <div class="col-md-6">
									       <div class="input-group">
									        <div class="input-group-addon">
									          <span class="text-info">LT3</span>
									        </div>
					       					<select type="text" name="forecast" id="forecast" class="form-control" />
					                            <option value="false">No</option>
					                            <option value="true">Yes</option>
					                        </select>
									       </div>
									    </div>
									</div>
								



									<!-- Weather Provider-->
									<div class="form-group">
									    <label for="weatherprovider" class="control-label col-md-3">Provider</label>
									    <div class="col-md-6">
									       <div class="input-group">
									        <div class="input-group-addon">
									          <span class="text-info">LT3</span>
									        </div>
					       					<select type="text" name="weatherprovider" id="weatherprovider" class="form-control" />
					                            <option value="0">Yahoo! Weather</option>
					                            <option value="1">The Weather Underground</option>
					                            <option value="2">forecast.io</option>
					                        </select>
									       </div>
									    </div>
									</div>



					  				<!-- Custom API key -->
									<div class="form-group">
									    <label for="CustomAPIKey" class="control-label col-md-3">Custom API Key</label>
									    <div class="col-md-6">
									       <div class="input-group">
									        <div class="input-group-addon">
									          <span class="text-info">LT3</span>
									        </div>
					       					<input type="text" name="CustomAPIKey" id="CustomAPIKey" value="" Placeholder="Enter your custom API key here">
									       </div>
									    </div>
									</div>


									<div class="alert alert-success alert-dismissable">
											<button type="button" class="close" data-dismiss="alert" aria-hidden="true">x</button>
										    <h3>What is a custom API Key?</h3>
										    <div>If you want to change the weather provider you must get your own API key.<br><br>
										    	To get a The Weather Underground API key follow this <span><a href="http://deutsch.wunderground.com/weather/api/d/login.html">(link)</a></span>
										    	<br><br>
										    	To get a forecast.io API key follow this <span><a href="https://developer.forecast.io/register">(link)</a>
										    </span>
										    </div>
										</div>

						  		</form>

						       

						     </div>
						   </div>
						</div>




					</div>


				</div>
			</div>
		</div>

		<!-- Submit buttons -->
		<div class="container" align="center">
			<button class="btn btn-danger" type="submit" id="b-cancel">Cancel</button>
			<button class="btn btn-success" type="submit" id="b-submit">Submit</button>
		</div>



		<script>
                /*
                $("#units").change(function() {
                    fillWindSpeed(getQueryVariable("#units"));
                });
                function fillWindSpeed(units){
                    //first remove all the existing values (if any)
                     $('#wspeed').empty();
                    //Dynamically set the mi/h or km/h
                    if(units=="c"){$('#wspeed').append(new Option('km/h', '0'));}
                    else{   $('#wspeed').append(new Option('mi/h', '0'));}
                    //Finally set the static values
                    $('#wspeed').append(new Option('m/s', '1'));
                    $('#wspeed').append(new Option('knots', '2'));
                    $('#wspeed').append(new Option('beaufort', '3'));
                }
                */
                
                function getQueryVariable(variable) {
                    var query = location.search.substring(1);
                    var vars = query.split('&');
                    for (var i = 0; i < vars.length; i++) {
                        var pair = vars[i].split('=');
                        if (pair[0] == variable)
                            return decodeURIComponent(pair[1]);
                    }
                    return false;
                }
                function saveOptions() {
                    var options = {
                        'language': $('#language').val(),
                        'font': $('#font').val(),
                        'use_gps': $('input:radio[name=use_gps]:checked').val(),
                        'location': $('#location').val(),
                        'units': $('input:radio[name=units]:checked').val(),
                        'invert_color': $('input:radio[name=invert_color]:checked').val(),
                        'vibes': $('input:radio[name=vibes]:checked').val(),
                        'accuracy': $('#accuracy').val(),
                        'feelslike': $('input:radio[name=feelslike]:checked').val(),
                        'ESDuration': $('#ESDuration').val(),
                        'backlight': $('input:radio[name=backlight]:checked').val(),
                        'wspeed': $('#wspeed').val(),
                        'start': $('#start').val(),
                        'end': $('#end').val(),
                        'timer': $('#timer').val(),
                        'UUID': $('#UUID').val(),
                        'lt': $('#lt').val(),
                        'key': $.trim($('#key').val()),
                        //'forecast': $('input:radio[name=forecast]:checked').val(),
                        'forecast': $('#forecast').val(),
                        'seconds': $('input:radio[name=seconds]:checked').val(),
                        'hourly_vibe': $('input:radio[name=hourly_vibe]:checked').val(),
                        'alerts': $('input:radio[name=alerts]:checked').val(),
                        'weatherprovider': $('#weatherprovider').val(),
                        'CustomAPIKey': $('#CustomAPIKey').val(),
                        'hide_bat': $('input:radio[name=hide_bat]:checked').val(),
                        'version' : "3.0"
                    }
                    return options;
                }
                $().ready(function() {
                    
                    
        
                    
                    //Fill the Wind Speed options
                     //fillWindSpeed(getQueryVariable("#units"));
                    //Disable the UUID. this is merely informational
                    //$('#UUID').prop('disabled', true);
                    $('#lt').prop('disabled', true);
                    //$("#lt").hide();
                    //Disable all the Extra Features to enable them based on LT
                    $('#accuracy').prop('disabled', true);
                    $('#feelslike').prop('disabled', true);
                    $('#ESDuration').prop('disabled', true);
                    $('#backlight').prop('disabled', true);
                    $('#timer').prop('disabled', true);
                    $('#wspeed').prop('disabled', true);
                    $('#start').prop('disabled', true);
                    $('#end').prop('disabled', true);
                    $('#forecast').prop('disabled', true);
                    $('#weatherprovider').prop('disabled', true);
                    $('#CustomAPIKey').prop('CustomAPIKey', true);
                    //Enable LT 1 fields
                    if (parseInt(getQueryVariable('lt')) >= 1) {
                        $('#feelslike').prop('disabled', false);
                        $('#ESDuration').prop('disabled', false);
                        $('#backlight').prop('disabled', false);
                        $('#wspeed').prop('disabled', false);
                        $('#start').prop('disabled', false);
                        $('#end').prop('disabled', false);
                    }
                    //Enable LT 2 fields
                    if (parseInt(getQueryVariable('lt')) >= 2) {
                        $('#accuracy').prop('disabled', false);
                        $('#timer').prop('disabled', false);
                    }
                    //Enable LT 3 fields
                    if (parseInt(getQueryVariable('lt')) >= 3) {
                        $('#forecast').prop('disabled', false);
                        $('#weatherprovider').prop('disabled', false);
                        $('#CustomAPIKey').prop('disabled', false);
                    }
                    $('#b-cancel').click(function() {
                        document.location = 'pebblejs://close#';
                    });
                    $('#b-submit').click(function() {
                        document.location = 'pebblejs://close#' + encodeURIComponent(JSON.stringify(saveOptions()));
                    });
                    $('#language').val(getQueryVariable('language')).change();
                    $('#font').val(getQueryVariable('font')).change();
                    if (getQueryVariable('use_gps') == "false") {
                        $('input:radio[name=use_gps][value=false]').prop('checked', true).trigger("click");
                    } else {
                        $('input:radio[name=use_gps][value=true]').prop('checked', true).trigger("click");
                    }
                    $('#location').val(getQueryVariable('location'));
                    if (getQueryVariable('units') == "celsius") {
                        $('input:radio[name=units][value=celsius]').prop('checked', true).trigger("click");
                    } else {
                        $('input:radio[name=units][value=fahrenheit]').prop('checked', true).trigger("click");
                    }
                    if (getQueryVariable('invert_color') == "false") {
                        $('input:radio[name=invert_color][value=false]').prop('checked', true).trigger("click");
                    } else {
                        $('input:radio[name=invert_color][value=true]').prop('checked', true).trigger("click");
                    }
          
                    if (getQueryVariable('vibes') == "0") {
                        $('input:radio[name=vibes][value=0]').prop('checked', true).trigger("click");
                    }
                    else if (getQueryVariable('vibes') == "1"){
 						$('input:radio[name=vibes][value=1]').prop('checked', true).trigger("click");
                    } 
                    else {
                        $('input:radio[name=vibes][value=2]').prop('checked', true).trigger("click");
                    }
                    $('#accuracy').val(getQueryVariable('accuracy')).change();
                    if (getQueryVariable('feelslike') == "false") {
                        $('input:radio[name=feelslike][value=false]').prop('checked', true).trigger("click");
                    } else {
                        $('input:radio[name=feelslike][value=true]').prop('checked', true).trigger("click");
                    }
                    $('#ESDuration').val(getQueryVariable('ESDuration')).change();
                    if (getQueryVariable('backlight') == "false") {
                        $('input:radio[name=backlight][value=false]').prop('checked', true).trigger("click");
                    } else {
                        $('input:radio[name=backlight][value=true]').prop('checked', true).trigger("click");
                    }
                    $('#wspeed').val(getQueryVariable('wspeed')).change();
                    $('#start').val(getQueryVariable('start')).change();
                    $('#end').val(getQueryVariable('end')).change();
                    $('#timer').val(getQueryVariable('timer')).change();
                    $('#UUID').val(getQueryVariable('UUID'));
                    $('#lt').val(getQueryVariable('lt'));
                    $('#key').val($.trim(getQueryVariable('key')));
                    /*
                    if (getQueryVariable('forecast') == "false") {
                        $('input:radio[name=forecast][value=false]').prop('checked', true).trigger("click");
                    } else {
                        $('input:radio[name=forecast][value=true]').prop('checked', true).trigger("click");
                    }
                    */
                     $('#forecast').val(getQueryVariable('forecast')).change();
                    if (getQueryVariable('seconds') == "false") {
                        $('input:radio[name=seconds][value=false]').prop('checked', true).trigger("click");
                    } else {
                        $('input:radio[name=seconds][value=true]').prop('checked', true).trigger("click");
                    }
                    if (getQueryVariable('hourly_vibe') == "false") {
                        $('input:radio[name=hourly_vibe][value=false]').prop('checked', true).trigger("click");
                    } else {
                        $('input:radio[name=hourly_vibe][value=true]').prop('checked', true).trigger("click");
                    }
                    if (getQueryVariable('alerts') == "true") {
                        $('input:radio[name=alerts][value=true]').prop('checked', true).trigger("click");
                    } else {
                        $('input:radio[name=alerts][value=false]').prop('checked', true).trigger("click");
                    }
                    
                    $('#weatherprovider').val(getQueryVariable('weatherprovider')).change();
        
        /*           
                    //ensure Yahoo! Weather is selected by default
                    if (parseInt(getQueryVariable('weatherprovider'))>= 0){
                    	$('#weatherprovider').val(getQueryVariable('weatherprovider')).change();
                    else{
                    	$('#weatherprovider').val("0").change();
                    }
                    */
                    $('#CustomAPIKey').val(getQueryVariable('CustomAPIKey')).change();
                    if (getQueryVariable('hide_bat') == "false") {
                        $('input:radio[name=hide_bat][value=false]').prop('checked', true).trigger("click");
                    } else {
                        $('input:radio[name=hide_bat][value=true]').prop('checked', true).trigger("click");
                    }
                    $('#os0').val(getQueryVariable('UUID'));
                    // Disable location field based on GPS toggle
                    //$('#location').prop('disabled', $('#gps_switch').val() == "true");
                    //$('#gps_switch').change(function() {
                      //  $('#location').prop('disabled', $('#gps_switch').val() == "true");
                    //});
                });
            </script>

	</body>
	<footer>

		
	</footer>
</html>
Status API Training Shop Blog About
© 2015 GitHub, Inc. Terms Privacy Security Contact
